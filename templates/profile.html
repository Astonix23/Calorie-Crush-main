<!DOCTYPE html>
<html lang="en">
  <head>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Bebas+Neue&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Raleway:wght@100;400;700&display=swap"
      rel="stylesheet"
    />

    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Profile</title>
    <link rel="stylesheet" href="static/base.css" />
    <link rel="stylesheet" href="static/profile.css" />
  </head>
  <body>
    <header>
      <div class="container bebas">
        <div class="logo bebas">
          <h1 style="font-size: 30px">CALORIE CRUSH</h1>
        </div>
        <nav>
          <ul>
            <li class="raleway"><a href="/">Home</a></li>
            <li class="raleway">
              <a href="/fitness-plan-page">Fitness Plan</a>
            </li>
            <li class="raleway"><a href="/diet-plan-page">Diet Plan</a></li>
            <li class="raleway"><a href="/community-page">Community</a></li>
            <li class="raleway"><a href="/progress-page">Progress</a></li>
            <li class="raleway"><a href="/contact-us-page">Contact Us</a></li>
            <li class="raleway login-btn">
              <a href="/login-profile-page">Profile</a>
            </li>
          </ul>
        </nav>
      </div>
    </header>
      <div class="about_profile">
      <h2>Welcome, {{ user }}!</h2>
      <p>This is your profile page.</p>
      <div id="editable" contenteditable="false">{{user}}</div>
      <button onclick="toggleEdit()">Edit</button>
      <button onclick="saveContent()">Save</button>
  
      <script>
          function toggleEdit() {
              const editableDiv = document.getElementById('editable');
              const isEditable = editableDiv.getAttribute('contenteditable') === 'true';
              editableDiv.setAttribute('contenteditable', !isEditable);
          }
  
          function saveContent() {
              const content = document.getElementById('editable').innerHTML;
              fetch('/save', {
                  method: 'POST',
                  headers: {
                      'Content-Type': 'application/json',
                  },
                  body: JSON.stringify({ content: content }),
              })
              .then(response => response.json())
              .then(data => {
                  alert('Content saved: ' + data.message);
              })
              .catch((error) => {
                  console.error('Error:', error);
              });
          }
      </script>
      <a href="/logout">Logout</a>
    </div>
    
  </body>
</html>
